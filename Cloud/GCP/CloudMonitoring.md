# Cloud Monitoring

Cloud monitoring is monitoring service in google cloud which collects
- metrics
- events
- metadata from GCP & AWS
- hosted uptime probs
- applcation instrumentation
Using BindPlane services we can collect data from over 150 comman application components, on-premise systems and hybrid cloud systems.


Google Cloud's operations suite ingest that data and generates insights via dashboards, charts and alerts.

BindPlane is included with your Google CLoud project at no additional cost.

To collect metrics data from your Compute Engine instances, create an Agent Policy that automaticlly installs and maintains the Google Cloud's operations suite agent across your fleet of VMs.

## Features:
- Alerting policies
- Uptime Check
- Charts & Dashboards
    - System metrics generated by Google Cloud Services
    - System and application metrics that CLoud Monitoring Agent gathers
    - Custom metrics
    - Logs-based metrics

# Metrics and time series
**METRIC** It describes something that is measured. Eg. a VM,s CPU utilization and % of a disk used.

**TIME SERIES** Is a data structure that contains time-stamped measurements of a metric and information about the source and meaning of those measurements.

# View metrics for multiple Cloud projects
To view metics for multiple cloud projects we need to configure a multi-project metrics scopes.

## Quickstart for monitoring a Compute Engine instance:
1. Create a Compute ENgine VM instance.
2. Install Apache HTTP Server.
3. Install the Cloud Monitoring and Logging agents.
4. Create an uptime check with an alerting policy.
5. Create a custom dashboard and chart.
6. View your logs.

# Installing the Ops Agent on individual VMs
The Ops Agent collects logs and metrics on COmpute Engine instances, sending your logs to Cloud Logging and your metrics to CLoud Monitoring.

We can install it using command line as well as console under Cloud Monitoring > Dashboards> VM Instances > Inventory 

Possible values for Agent column:
- Not Detected
- Ops Agent
- Legacy Agent
- Not Applicable
- VM Stopped

# Managing Notification Channels
A Notification channel is the mechanism that Monitoring uses to notify you that the conditions of an alerting policy have been met.

For Example:

You can configure Monitoring to send an email to a support team and also to publish a Pub/Sub topic.

We can create notification channel for:
- Email
- Mobile App
- PagerDuty
- SMS
- Pub/Sub
- Slack
- Webhooks


# Reference

[Google Cloud metrics](https://cloud.google.com/monitoring/api/metrics_gcp)

[Anthos metrics](https://cloud.google.com/monitoring/api/metrics_anthos)

[Kubernetes metrics](https://cloud.google.com/monitoring/api/metrics_kubernetes)

[Agent metrics](https://cloud.google.com/monitoring/api/metrics_agent)

[Monitored resource type](https://cloud.google.com/monitoring/api/resources)

[REST API](https://cloud.google.com/monitoring/api/ref_v3/rest)

[API Method: projects.time.Series.list](https://cloud.google.com/monitoring/api/ref_v3/rest/v3/projects.timeSeries/list)

[Monitoring filters](https://cloud.google.com/monitoring/api/v3/filters)

[Monitoring Client Libraries](https://cloud.google.com/monitoring/docs/reference/libraries)

[Create Custom Metrics](https://cloud.google.com/monitoring/custom-metrics/creating-metrics)

[Configure your project for Cloud Monitoring](https://cloud.google.com/monitoring/settings)

[Selecting metrics when using Metrics Explorer](https://cloud.google.com/monitoring/charts/metrics-selector)

[Managing alerting policies](https://cloud.google.com/monitoring/alerts/using-alerting-ui)
